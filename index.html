<script>
    function checkout() {
        let cart = JSON.parse(localStorage.getItem("cart")) || [];
        if (cart.length === 0) {
            alert("Il carrello è vuoto!");
            return;
        }

        let message = `Ciao! Ecco il mio ordine:\n` + 
                      cart.map(item => `- ${item.name} (${item.size}) x ${item.quantity}`).join("\n");

        let whatsappURL = `https://wa.me/393717771328?text=${encodeURIComponent(message)}`;
        
        // Apri WhatsApp per inviare l'ordine
        window.open(whatsappURL, "_blank");

        // Svuota il carrello dopo l'invio
        setTimeout(() => {
            localStorage.removeItem("cart");
            updateCart();
            alert("Ordine inviato! Il carrello è stato svuotato.");
        }, 3000); // Aspetta 3 secondi prima di svuotare il carrello
    }
</script>
